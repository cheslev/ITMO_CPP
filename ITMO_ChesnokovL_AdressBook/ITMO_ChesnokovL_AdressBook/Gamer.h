#pragma once
#include "Person.h"
#include <string>
#include <vector>
#include <sstream>

using namespace std;
class Gamer : public Person {
public:
	Gamer(string lastName, string name, string secondName, vector<int> scores) :
		Person(lastName, name, secondName) {
		this->scores = scores;
	}

	string GetStatus() const {
		return "Геймер";
	}
	virtual string GetInfo() const
	{
		std::ostringstream fullInfo;
		fullInfo << Person::GetInfo() << "\nСредний балл : " << get_average_score() << "\n-------------";
		return fullInfo.str();
	}
	void Save() const
	{
		Person::Save();
		ofstream fout("person.txt", ios::app);
		fout << "Средний балл : " << get_average_score() << "\n------------";
		fout << endl;
		fout.close();
	}
	
	float get_average_score() const
	{
		
		unsigned int count_scores = this->scores.size();
		
		unsigned int sum_scores = 0;
		
		float average_score;
		for (unsigned int i = 0; i < count_scores; ++i) {
			sum_scores += this->scores[i];
		}
		average_score = (float)sum_scores / (float)count_scores;
		return average_score;
	}
private:
	std::vector<int> scores;
};